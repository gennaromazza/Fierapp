Obiettivo
Crea una Homepage Alternativa non modificre quella esistenrte che √® una Guida Conversazionale che simula il mio dialogo con l‚Äôutente per creare il preventivo di matrimonio. La guida vive come overlay/chat sopra l‚Äôattuale UI (tabs, card, carrello, sconti) e usa 4 avatar allegati.

A/B & pubblicazione

Attiva dietro flag abFlag: "guide_v1".

Nessuna modifica alla Home attuale.

Rendi effettivo solo dopo mia conferma.

Avatar (usa le 4 immagini che ho creato)
A1 (Sorridente): benvenuto, raccolta lead, chiusura.

A2 (Neutro/Pro): istruzioni, riepiloghi, sconti.

A3 (Spiega/Pensieroso): regole, blocchi, incompatibilit√†, sblocchi.

A4 (Entusiasta/Upsell): suggerimenti, offerte, ‚Äúsoldi in mano‚Äù.

Ottimizza WebP <100‚ÄØKB, 1√ó/2√ó retina.
Confetti: anima l‚Äôavatar in modalit√† festa quando si annunciano gli sconti (vedi Step 2).

Dati da backend (leggere dinamicamente)
studioName (nome studio)

globalDiscount.percent + globalDiscount.endDate

perItemDiscounts[] (mappa sconti su singoli prodotti/servizi)

dependencies (es. per aggiungere Album serve Servizio Fotografico)

conflicts / availability (es. prodotti non combinabili o non disponibili)

unlockedGifts (omaggi legati a selezioni)

Conversazione (testi pronti + azioni UI)
0) Benvenuto & Nome ‚Äî A1
IO: ¬´Ciao, sono Gennaro di {{studioName}} (dal backend). Sono il tuo assistente personale: ti aiuto a compilare il preventivo per il servizio fotografico del tuo matrimonio. Come ti chiami?¬ª
Cliente: inserisce Nome ‚Üí salva in stato lead.name.
UI hint: nessuno (solo chat visibile).

1) Annuncio sconti (confetti) ‚Äî A1 (avatar in modalit√† festa + coriandoli)
IO: ¬´Perfetto, {{lead.name}}! Per l‚Äôoccasione √® attivo uno sconto globale del {{globalDiscount.percent}}% che termina il {{globalDiscount.endDate}}.
E non solo: abbiamo sconti anche sui singoli prodotti/servizi (controlla i badge rossi nelle card).¬ª
UI hint: evidenzia banner sconto globale; se perItemDiscounts esiste ‚Üí highlight badge sconto sulle card.
Animazione: confetti on screen + micro-bounce avatar.

2) Data nozze (obbligatoria) ‚Äî A1
IO: ¬´Iniziamo: mi dici la data delle nozze? Per noi √® fondamentale.¬ª
Cliente: inserisce Data evento (datepicker) ‚Üí valida formato dd/MM/yyyy ‚Üí salva lead.date.
UI hint: nessuno.

3) Selezione Servizi ‚Äî A2
IO: ¬´Perfetto, {{lead.name}}. La prima cosa da scegliere sono i Servizi.
Se selezioni {{X}} (dal backend), sblocchi: {{listaServiziSbloccati}}.¬ª
UI hint: switch tab SERVIZI; highlight card ‚ÄúServizio Fotografico‚Äù o servizi base configurati.
Cliente: seleziona servizi ‚Üí evento service_selected ‚Üí aggiorna carrello.

4) Vai ai Prodotti ‚Äî A2
IO: ¬´Ottimo! Ora passiamo ai Prodotti (album, foto per invitati, ecc.).¬ª
UI hint: switch tab PRODOTTI; se sblocchi ‚Üí toast ‚ÄúProdotti Sbloccati!‚Äù con lista.

5) Gestione blocchi & incompatibilit√† ‚Äî A3 (mostrare solo quando serve)
IO: ¬´Vedo che hai scelto {{item}} ma per inserirlo serve prima {{required}}. Vuoi che lo aggiunga ora?¬ª
Scelte: S√¨, aggiungi (aggiunge requisito e riprova) ¬∑ No, indietro
Caso conflitto: ¬´{{itemA}} non √® compatibile con {{itemB}}. Preferisci tenere {{itemA}} o {{itemB}}?¬ª
UI hint: highlight card bloccata + card richiesta; eventuale rimozione guidata.

6) Upsell soft ‚Äî A4
IO: ¬´Per completare al meglio, ti suggerisco i preferiti dagli sposi: Videomaker, Riprese Drone, Foto per Invitati. Li aggiungo?¬ª
Scelte: Aggiungi consigliati (aggiunge tutti/alcuni) ¬∑ Scelgo io
UI hint: highlight card consigliate; mostra badge sconto per-item.

7) Riepilogo & Sconti ‚Äî A2
IO: ¬´Ecco il tuo riepilogo. Hai sconto globale del {{globalDiscount.percent}}% fino al {{globalDiscount.endDate}} + sconti prodotto gi√† conteggiati nel carrello.¬ª
UI hint: scroll al carrello sticky, espandi ‚ÄúSconto globale‚Äù e ‚ÄúSconti prodotti/servizi‚Äù.

8) Omaggi / Risparmio
Se omaggio sbloccato ‚Äî A4
IO: ¬´Bene! Con i servizi che hai selezionato hai **sbloccato questo omaggio: {{giftName}}.¬ª

Se nessun omaggio ‚Äî A4 (soldi in mano)
IO: ¬´Guarda quanto hai risparmiato: ‚Ç¨{{savingTotal}} tra sconto globale e sconti prodotto. Niente male! üòÑ¬ª
UI hint: flash del pannello risparmi nel carrello.

9) Raccolta lead in stile conversazione (uguale al tuo modal) ‚Äî A1
Chiedi in sequenza (validazione immediata). I campi e i testi devono replicare il modal attuale:

Nome (required)

Cognome (required)

Email (required, formato email)

Telefono (required, regex ^\+?\d{7,15}$)

Data evento (required, dd/MM/yyyy ‚Äî precompilare con lead.date se gi√† inserita)

Note aggiuntive (optional)

GDPR (required, testo identico al modal)
UI: in alto mostra il RIEPILOGO SELEZIONE come nel modal (lista item, Subtotale, Sconti prodotto/servizio, RISPARMIO TOTALE, TOTALE).
Bottoni (disabilitati finch√© formValid && gdpr):

SCARICA PREVENTIVO PDF ‚Üí generateQuotePdf(cart, lead)

INVIA RICHIESTA ‚Üí submitLead(lead, cart) + openWhatsApp(deeplink)
Helper: ‚ÄúLa richiesta verr√† salvata e si aprir√† automaticamente WhatsApp‚Äù.

10) Chiusura ‚Äî A1
IO: ¬´Grazie, {{lead.name}}! Ti ho inviato il riepilogo. Preferisci scrivermi su WhatsApp o fissare un appuntamento?¬ª
Azioni: Apri WhatsApp ¬∑ Prenota appuntamento ¬∑ Torna alla Home.


Inzia mettendo degli avatar Casuali, in secondo momento li cambier√≤

